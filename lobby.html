<!DOCTYPE HTML>
<html>
	<head>	
		<style>
			@font-face {
				font-family: 'AeroMaticsBold';
				src: url('imgs/AeroMaticsBold.ttf');
			}
		</style>
		
		<script>
			var cash = 1000;
			var targetCash = 1000;
			var bought;
			var exp = 0;
			var giftscount = 3;
			
			var uiViewportWidth;
			var uiViewportHeight;
			
			var uiGameWidth;
			var uiGameHeight;
			var uiGameLeft;
			var uiGameTop;
			
			var uiViewportAspectRatio;
			var uiGameAspectRatio = 1.6;
			
			var uiGamePopupToShow = "";
			
			var uiGameFontSizeScale = 0.028;
			var uiGameFontSize;
			
			
			const bordersWidth = 4;
			
			var showSimplePopupFlag;
			var showBuySuccessPopupFlag;
			var showOptionsPopupFlag;
			var showCasherPopupFlag;
			var showMegaBonusPopupFlag;
			var showInboxPopupFlag;
			var showCoinsGIftGetPopupFlag;
			var showSelectThemePopupFlag;
			var showSmallOptionsFlag;
			
			//Megabonus Vars
			var megaBonusMonets = 1000;
			var bonusTimer = 10;
			var bonusButtonText = "";
			var bonusButtonFontColor = "";
			var megaBonusInfoText = "";
			var megaBonusTitle = "Bonus Coins";
			var bonusesCollected = 0;
			const totalBonuses = 5;
			const bonusmultiplier = 2;
			
			var coinsgift = true;
			var spinsgift = true;
			var specialoffergift = true;
			var specialofferget = false;
			
			var pageId = 0;
			var startId = 0;
		</script>
		
		<script src="lobbyTopPanelConstructor.js"></script>
		
		<script src="lobbyBottomPanelConstructor.js"></script>
		
		<script>
			
			function getUiGameSize()
			{
				uiViewportWidth = document.documentElement.clientWidth;
				uiViewportHeight = document.documentElement.clientHeight;
				
				uiViewportAspectRatio = uiViewportWidth/uiViewportHeight;
				
				if (uiViewportAspectRatio < uiGameAspectRatio)
				{
					uiGameWidth = uiViewportWidth;
					uiGameHeight = uiGameWidth / uiGameAspectRatio;
					uiGameLeft = 0;
					uiGameTop = uiViewportHeight/2 - uiGameHeight/2;
				}
				else
				{
					uiGameHeight = uiViewportHeight;
					uiGameWidth = uiGameHeight * uiGameAspectRatio;
					uiGameLeft = uiViewportWidth/2 - uiGameWidth/2;
					uiGameTop = 0;
				}
				
				uiGameHeight -= bordersWidth*2;
				uiGameWidth -= bordersWidth*2;
				
				uiGameFontSize = uiGameHeight * uiGameFontSizeScale;
			}
			
			function redrawUI()
			{
				getUiGameSize();
				
				var newCash = parseInt(sessionStorage.getItem('cash'));
				if (newCash != targetCash)
				{
					targetCash = newCash;
					animateCash();
				}
								
				//Construct Top Panel~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
				
				var topPanelHTML = ConstructTopPanel();
				
				//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
				
				//Themes Page Elements~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
				
				const uiGameThemesPanelHeightScale = 0.825;
				var uiGameThemesPanelWidth = uiGameWidth;
				var uiGameThemesPanelHeight = uiGameHeight * uiGameThemesPanelHeightScale;
				var uiGameThemesPanelLeft = 0;
				var uiGameThemesPanelTop = uiGameTopPanelHeight;
				
				const uiGameThemeIconWidthScale = 0.35;
				const uiGameThemesIconsInterval = 0.1;
				
				var uiGameThemeIconWidth = uiGameThemesPanelHeight * uiGameThemeIconWidthScale;
				var uiGameThemeIconHeight = uiGameThemeIconWidth;
				
				var uiGameFeaturedThemeIconWidth = uiGameThemesPanelHeight * uiGameThemeIconWidthScale;
				var uiGameFeaturedThemeIconHeight = uiGameFeaturedThemeIconWidth*2 + uiGameThemesIconsInterval*uiGameThemesPanelHeight;
				
				var uiGameThemesIconsLeftArray = [];
				var uiGameThemesIconsTopArray = [];
				
				var uiGameFeaturedThemesIconsLeftArray = [];
				var uiGameFeaturedThemesIconsTopArray = [];
				
				var themesHtmlString = "";
				
				var uiGameThemesIconsCount = 6;
				var uiGameFeaturedIconsCount = 1;
				
				var uiGameIconsCols = 4;
				var uiGameIconsRows = 2;
				var uiGameIconsCheck = 1;
				
				if (pageId == 0)
				{
					uiGameThemesIconsCount = 6;
					uiGameFeaturedIconsCount = 1;
					uiGameIconsCheck = 2;
					startId = 0;
				}
				else
				{
					uiGameThemesIconsCount = 8;
					uiGameFeaturedIconsCount = 0;
					uiGameIconsCheck = 3;
					startId = 4 + (pageId-1)*6;
				}
				
				var uiGameFeaturedThemesTableLeft = uiGameThemesPanelWidth/2 - (uiGameFeaturedThemeIconWidth*uiGameFeaturedIconsCount + uiGameThemeIconWidth*(uiGameThemesIconsCount/uiGameIconsRows) + (uiGameThemesIconsInterval*uiGameThemesPanelHeight)*(uiGameIconsCols-1))/2;
				var uiGameFeaturedThemesTableTop = (uiGameThemesPanelTop*0.1 + uiGameThemesPanelHeight/2) - (uiGameIconsRows*uiGameThemeIconHeight + ((uiGameThemesIconsInterval*uiGameThemesPanelHeight)*(uiGameIconsRows-1))/2) + uiGameTopPanelHeight;
				
				var uiGameThemesTableLeft = uiGameFeaturedThemesTableLeft + (uiGameFeaturedThemeIconWidth*uiGameFeaturedIconsCount + (uiGameThemesIconsInterval*uiGameThemesPanelHeight)*uiGameFeaturedIconsCount);
				var uiGameThemesTableTop = uiGameFeaturedThemesTableTop;
				
				for (var i = 0; i < uiGameFeaturedIconsCount; i++)
				{
					uiGameFeaturedThemesIconsLeftArray[i] = uiGameFeaturedThemesTableLeft + i*(uiGameFeaturedThemeIconWidth + uiGameThemesIconsInterval*uiGameThemesPanelHeight);
					uiGameFeaturedThemesIconsTopArray[i] = uiGameFeaturedThemesTableTop + uiGameThemeIconWidth*0.5;
				
					themesHtmlString += '<button onclick=\"window.location.href=\'themes.html\'\" style = \"border:none; background-color:Transparent; cursor:pointer; position: absolute; font-size:'+uiGameFontSize+'px; position: absolute; left: '+uiGameFeaturedThemesIconsLeftArray[i]+'px; top: '+uiGameFeaturedThemesIconsTopArray[i]+'px; width: '+uiGameFeaturedThemeIconWidth+'px; height: '+uiGameFeaturedThemeIconHeight+'px; \">Featured'+(i+1);
					themesHtmlString += '<img src = "imgs/button.png" style="position:absolute; width:' +  uiGameFeaturedThemeIconWidth + 'px; height: ' + uiGameFeaturedThemeIconHeight + 'px; left: 0px; top: 0px ">';	
					themesHtmlString += '<img src = "imgs/theme.png" style="position:absolute; width:' +  uiGameFeaturedThemeIconWidth + 'px; height: ' + uiGameFeaturedThemeIconHeight/2 + 'px; left: 0px; top: '+uiGameFeaturedThemeIconWidth/2+'px "></img>';
					themesHtmlString += '</img>';
					themesHtmlString += '</button>';
				}
				
				var uiGameIconsColsReal = uiGameIconsCols - uiGameFeaturedIconsCount;
				for (var i = 0; i < uiGameThemesIconsCount; i++)
				{
					uiGameThemesIconsLeftArray[i] = uiGameThemesTableLeft + (Math.floor(i%uiGameIconsColsReal))*(uiGameThemeIconWidth + uiGameThemesIconsInterval*uiGameThemesPanelHeight);
					if (i > uiGameIconsCheck)
						uiGameThemesIconsTopArray[i] = uiGameThemesTableTop + (uiGameThemeIconHeight + uiGameThemesIconsInterval*uiGameThemesPanelHeight) + uiGameThemeIconWidth*0.5;
					else
						uiGameThemesIconsTopArray[i] = uiGameThemesTableTop + uiGameThemeIconWidth*0.5;
					
					themesHtmlString += '<button onclick=\"window.location.href=\'themes.html\'\" style = \"border:none; background-color:Transparent; cursor:pointer; position: absolute; font-size:'+uiGameFontSize+'px; position: absolute; left: '+uiGameThemesIconsLeftArray[i]+'px; top: '+uiGameThemesIconsTopArray[i]+'px; width: '+uiGameThemeIconWidth+'px; height: '+uiGameThemeIconHeight+'px; \">Theme'+(startId+i+1);
					themesHtmlString += '<img src = "imgs/theme.png" style="position:absolute; width:' +  uiGameThemeIconWidth + 'px; height: ' + uiGameThemeIconHeight + 'px; left: 0px; top: 0px "></img>';	
					themesHtmlString += '</button>';
				}
				
				var uiGameLeftButtonWidth = uiGameTopPanelHeight;
				var uiGameLeftButtonHeight = uiGameLeftButtonWidth*2;
				var uiGameLeftButtonTop = uiGameHeight/2 - uiGameLeftButtonHeight*1.5 + uiGameThemeIconWidth*0.1;
				var uiGameLeftButtonLeft = 0;
				
				var uiGameRightButtonWidth = uiGameTopPanelHeight;
				var uiGameRightButtonHeight = uiGameRightButtonWidth*2;
				var uiGameRightButtonTop = uiGameHeight/2 - uiGameRightButtonHeight*1.5 + uiGameThemeIconWidth*0.1;
				var uiGameRightButtonLeft = uiGameTopPanelWidth - uiGameRightButtonWidth;
				//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
				
				//Bottom Panel~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
				
				var bottomPanelHTML = ConstructBittomPanel();
					
				//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
				
				const uiGamePageIconTopIntervalScale = 28;
				var uiGamePageIconWidth = uiGameLeftButtonWidth/2.7;
				var uiGamePageIconHeight = uiGamePageIconWidth;
				var uiGamePageIconTop = uiGameMegaBonusPanelTop+uiGamePageIconHeight*uiGamePageIconTopIntervalScale;
				var uiGamePageIconLeftStart = uiGameTopPanelWidth/2 - uiGamePageIconWidth*1.5;
				var uiGamePageIconLeftInterval = uiGamePageIconWidth;
				
				var uiGamePopupHeighttmlString = "";
				
				var uiGamePopupWidth = uiGameWidth / 2;
				var uiGamePopupHeight = uiGameHeight / 2;
				var uiGamePopupLeft = uiViewportWidth/2 - uiGamePopupWidth/2;
				var uiGamePopupTop = uiViewportHeight/2 - uiGamePopupHeight/2;
				
				const uiOptionsPopupButtonLeftInterval = 0.1;
				const uiOptionsPopupButtonTopInterval = 0.1;
				
				const uiGamePopupCloseButtonWidthScale = 0.05;
				var uiGamePopupCloseButtonWidth = uiGamePopupWidth * uiGamePopupCloseButtonWidthScale;
				var uiGamePopupCloseButtonHeight = uiGamePopupCloseButtonWidth;
				var uiGamePopupCloseButtonLeft = uiGamePopupWidth - uiGamePopupCloseButtonWidth;
				var uiGamePopupCloseButtonTop = 0;
				
				const uiGamePopupBuySuccessScale = 0.4;
				var uiGamePopupBuySuccessWidth = uiGameWidth * uiGamePopupBuySuccessScale;
				var uiGamePopupBuySuccessHeight = uiGameHeight * uiGamePopupBuySuccessScale;
				var uiGamePopupBuySuccessLeft = uiViewportWidth/2 - uiGamePopupBuySuccessWidth/2;
				var uiGamePopupBuySuccessTop = uiViewportHeight/2 - uiGamePopupBuySuccessHeight/2;
				
				const uiGamePopupBuySuccessOKButtonScale = 0.5;
				var uiGamePopupBuySuccessOKButtonWidth = uiGamePopupBuySuccessWidth * uiGamePopupBuySuccessOKButtonScale;
				var uiGamePopupBuySuccessOKButtonHeight = uiGamePopupBuySuccessHeight * uiGamePopupBuySuccessOKButtonScale;
				var uiGamePopupBuySuccessOKButtonLeft = uiGamePopupBuySuccessOKButtonWidth/2;
				var uiGamePopupBuySuccessOKButtonTop = uiGamePopupBuySuccessHeight*0.3;
				
				if (showSimplePopupFlag)
				{
					uiGamePopupHeighttmlString += '<div style = \"position: absolute; left: '+uiGameLeft+'px; top: '+uiGameTop+'px; width: '+uiGameWidth+'px; height: '+uiGameHeight+'px; opacity:0.3; background-color:#000080\"></div>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize+'px; text-align: center; background-color: #e6e6ff; opcaity: 1.0; position: absolute; width: ' + uiGamePopupBuySuccessWidth + 'px; height: ' + uiGamePopupBuySuccessHeight + 'px; left: ' + uiGamePopupBuySuccessLeft + 'px; top: ' + uiGamePopupBuySuccessTop + 'px \">Popup';
					uiGamePopupHeighttmlString += '<button onclick = \"hidePopups()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiGamePopupBuySuccessOKButtonWidth + 'px; height: ' + uiGamePopupBuySuccessOKButtonHeight + 'px; left: ' + uiGamePopupBuySuccessOKButtonLeft + 'px; top: ' + uiGamePopupBuySuccessOKButtonTop + 'px \"> OK </button>';
					uiGamePopupHeighttmlString += '</div>';
				}
				if (showMegaBonusPopupFlag)
				{
					uiGamePopupHeighttmlString += '<div style = \"position: absolute; left: '+uiGameLeft+'px; top: '+uiGameTop+'px; width: '+uiGameWidth+'px; height: '+uiGameHeight+'px; opacity:0.3; background-color:#000080\"></div>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize+'px; text-align: center; background-color: #e6e6ff; opcaity: 1.0; position: absolute; width: ' + uiGamePopupBuySuccessWidth + 'px; height: ' + uiGamePopupBuySuccessHeight + 'px; left: ' + uiGamePopupBuySuccessLeft + 'px; top: ' + uiGamePopupBuySuccessTop + 'px \">MEGABONUS';
					uiGamePopupHeighttmlString += '<br>YOU WON '+megaBonusMonets+' $';
					uiGamePopupHeighttmlString += '<button onclick = \"collectMegaBonus()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiGamePopupBuySuccessOKButtonWidth + 'px; height: ' + uiGamePopupBuySuccessOKButtonHeight + 'px; left: ' + uiGamePopupBuySuccessOKButtonLeft + 'px; top: ' + uiGamePopupBuySuccessOKButtonTop + 'px \"> OK </button>';
					uiGamePopupHeighttmlString += '</div>';
				}
				if (showSmallOptionsFlag)
				{
					uiGamePopupHeighttmlString += '<div onclick="hidePopups()" style = \"cursor: pointer; position: absolute; left: '+(uiGameLeft+bordersWidth)+'px; top: '+(uiGameTop+bordersWidth)+'px; width: '+uiGameWidth+'px; height: '+uiGameHeight+'px; opacity:0.3; background-color:#000080\"></div>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize+'px; text-align: center; background-color: #e6e6ff; opcaity: 1.0; position: absolute; width: ' + uiGameOptionsButtonWidth + 'px; height: ' + uiGameOptionsButtonHeight*4 + 'px; left: ' + (uiGameLeft + uiGameWidth-uiGameOptionsButtonWidth + bordersWidth) + 'px; top: ' + (uiGameTop + uiGameTopPanelHeight) + 'px \">';
					uiGamePopupHeighttmlString += '<button onclick = \"hidePopups()\" style = \"font-size:'+uiGameFontSize*0.8+'px; position: absolute; width: ' + uiGameOptionsButtonWidth*0.8 + 'px; height: ' + uiGameOptionsButtonHeight*0.8 + 'px; left: ' + uiGameOptionsButtonWidth*0.1 + 'px; top: ' + uiGameOptionsButtonHeight*0.05 + 'px \"> Sound </button>';
					uiGamePopupHeighttmlString += '<button onclick = \"hidePopups()\" style = \"font-size:'+uiGameFontSize*0.8+'px; position: absolute; width: ' + uiGameOptionsButtonWidth*0.8 + 'px; height: ' + uiGameOptionsButtonHeight*0.8 + 'px; left: ' + uiGameOptionsButtonWidth*0.1 + 'px; top: ' + ((uiGameOptionsButtonHeight+uiGameOptionsButtonHeight*0.05)) + 'px \"> Animations </button>';
					uiGamePopupHeighttmlString += '<button onclick = \"hidePopups()\" style = \"font-size:'+uiGameFontSize*0.8+'px; position: absolute; width: ' + uiGameOptionsButtonWidth*0.8 + 'px; height: ' + uiGameOptionsButtonHeight*0.8 + 'px; left: ' + uiGameOptionsButtonWidth*0.1 + 'px; top: ' + ((uiGameOptionsButtonHeight+uiGameOptionsButtonHeight*0.05)*2) +'px \"> Support </button>';
					uiGamePopupHeighttmlString += '<button onclick = \"showOptionsPopup()\" style = \"font-size:'+uiGameFontSize*0.8+'px; position: absolute; width: ' + uiGameOptionsButtonWidth*0.8 + 'px; height: ' + uiGameOptionsButtonHeight*0.8 + 'px; left: ' + uiGameOptionsButtonWidth*0.1 + 'px; top: ' + ((uiGameOptionsButtonHeight+uiGameOptionsButtonHeight*0.05)*3) +'px \"> Settings </button>';
					uiGamePopupHeighttmlString += '</div>';
				}
				if (showOptionsPopupFlag)
				{
					const uiOptionsSoundButtonWidthScale = 0.2;
					const uiOptionsSoundButtonHeightScale = 0.2;
					var uiOptionsSoundButtonWidth = uiGamePopupWidth * uiOptionsSoundButtonWidthScale;
					var uiOptionsSoundButtonHeight = uiGamePopupHeight * uiOptionsSoundButtonHeightScale;
					var uiOptionsSoundButtonLeft = uiGamePopupWidth * uiOptionsPopupButtonLeftInterval;
					var uiOptionsSoundButtonTop = uiGamePopupHeight * uiOptionsPopupButtonTopInterval;
					
					const uiOptionsMusicButtonWidthScale = 0.2;
					const uiOptionsMusicButtonHeightScale = 0.2;
					var uiOptionsMusicButtonWidth = uiGamePopupWidth * uiOptionsMusicButtonWidthScale;
					var uiOptionsMusicButtonHeight = uiGamePopupHeight * uiOptionsMusicButtonHeightScale;
					var uiOptionsMusicButtonLeft = uiGamePopupWidth * uiOptionsPopupButtonLeftInterval;
					var uiOptionsMusicButtonTop = uiOptionsSoundButtonTop + uiOptionsSoundButtonHeight + uiGamePopupHeight * uiOptionsPopupButtonTopInterval;
					
					uiGamePopupHeighttmlString += '<div style = \"position: absolute; left: '+uiGameLeft+'px; top: '+uiGameTop+'px; width: '+uiGameWidth+'px; height: '+uiGameHeight+'px; opacity:0.3; background-color:#000080\"></div>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize+'px; text-align: center; background-color: #e6e6ff; opcaity: 1.0; position: absolute; width: ' + uiGamePopupWidth + 'px; height: ' + uiGamePopupHeight + 'px; left: ' + uiGamePopupLeft + 'px; top: ' + uiGamePopupTop + 'px \">Options';
					uiGamePopupHeighttmlString += '<button onclick = \"hidePopups()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiGamePopupCloseButtonWidth + 'px; height: ' + uiGamePopupCloseButtonHeight + 'px; left: ' + uiGamePopupCloseButtonLeft + 'px; top: ' + uiGamePopupCloseButtonTop + 'px \"> X </button>';
					
					uiGamePopupHeighttmlString += '<button style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiOptionsSoundButtonWidth + 'px; height: ' + uiOptionsSoundButtonHeight + 'px; left: ' + uiOptionsSoundButtonLeft + 'px; top: ' + uiOptionsSoundButtonTop + 'px \">Sound</button>';
					uiGamePopupHeighttmlString += '<button style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiOptionsMusicButtonWidth + 'px; height: ' + uiOptionsMusicButtonHeight + 'px; left: ' + uiOptionsMusicButtonLeft + 'px; top: ' + uiOptionsMusicButtonTop + 'px \">Music</button>';
					
					uiGamePopupHeighttmlString += '</div>';
				}
				if (showCasherPopupFlag)
				{
					const uiCasherBuyButtonWidthScale = 0.1;
					const uiCasherBuyButtonHeightScale = 0.1;
					const uiCasherRowsIntervalScale = 0.05;
					const uiCasherPurchaseInfoWidthScale = 0.5;
					const uiCasherPurchasePriceWidthScale = 0.3;
					const uiCasherPurchaseInfoHeightScale = 0.1;
					const uiCasherPurchasePriceHeightScale = 0.1;
					const uiCasherTitleFontScale = 2;
					const uiCasherFontScale = 1.3;
					var uiCasherBuyButtonWidth = uiGamePopupWidth * uiCasherBuyButtonWidthScale;
					var uiCasherBuyButtonHeight = uiGamePopupWidth * uiCasherPurchaseInfoHeightScale;
					var uiCasherBuyButtonLeft = uiCasherRowsIntervalScale*uiGamePopupWidth + uiCasherPurchaseInfoWidthScale*uiGamePopupWidth + uiCasherPurchasePriceWidthScale*uiGamePopupWidth;
					var uiCasherPurchaseInfoWidth = uiGamePopupWidth * uiCasherPurchaseInfoWidthScale;
					var uiCasherPurchaseInfoHeight = uiGamePopupWidth * uiCasherPurchaseInfoHeightScale;
					var uiCasherPurchaseInfoLeft = uiCasherRowsIntervalScale*uiGamePopupWidth;
					var uiCasherPurchasePriceWidth = uiGamePopupWidth * uiCasherPurchasePriceWidthScale;
					var uiCasherPurchasePriceHeight = uiGamePopupWidth * uiCasherPurchasePriceHeightScale;
					var uiCasherPurchasePriceLeft = uiCasherRowsIntervalScale*uiGamePopupWidth + uiCasherPurchaseInfoWidthScale*uiGamePopupWidth;
					var uiCasherBuyButtonsTops = [];
					var uiCasherPurchaseInfoTops = [];
					var uiCasherPurchasePriceTops = [];
					
					const uiCasherPurchasesCount = 3;
					
					uiGamePopupHeighttmlString += '<div style = \"position: absolute; left: '+uiGameLeft+'px; top: '+uiGameTop+'px; width: '+uiGameWidth+'px; height: '+uiGameHeight+'px; opacity:0.3; background-color:#000080\"></div>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiCasherTitleFontScale+'px; text-align: center; background-color: #e6e6ff; opcaity: 1.0; position: absolute; width: ' + uiGamePopupWidth + 'px; height: ' + uiGamePopupHeight + 'px; left: ' + uiGamePopupLeft + 'px; top: ' + uiGamePopupTop + 'px \">Casher';
					
					const uiCasherTopInterval = 3;
					
					for (var i = 0; i < uiCasherPurchasesCount; i++)
					{
						uiCasherPurchaseInfoTops[i] = uiCasherRowsIntervalScale*uiGamePopupHeight*uiCasherTopInterval + i*(uiGamePopupWidth * uiCasherPurchaseInfoHeightScale + uiCasherRowsIntervalScale*uiGamePopupHeight);
						uiCasherPurchasePriceTops[i] = uiCasherPurchaseInfoTops[i];
						uiCasherBuyButtonsTops[i] = uiCasherPurchaseInfoTops[i];
						
					}
					
					uiGamePopupHeighttmlString += '<button onclick = \"purchase500()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiCasherBuyButtonWidth + 'px; height: ' + uiCasherBuyButtonHeight + 'px; left: ' + uiCasherBuyButtonLeft + 'px; top: ' + uiCasherBuyButtonsTops[0] + 'px \"> Buy </button>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiCasherFontScale+'px; text-align: center; background-color: #cce6ff; position: absolute; width: ' + uiCasherPurchaseInfoWidth + 'px; height: ' + uiCasherPurchaseInfoHeight + 'px; left: ' + uiCasherPurchaseInfoLeft + 'px; top: ' + uiCasherPurchaseInfoTops[0] + 'px \">GOLD 500</div>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiCasherFontScale+'px; text-align: center; background-color: #2ce6ff; position: absolute; width: ' + uiCasherPurchasePriceWidth + 'px; height: ' + uiCasherPurchasePriceHeight + 'px; left: ' + uiCasherPurchasePriceLeft + 'px; top: ' + uiCasherPurchasePriceTops[0] + 'px \">1.99$</div>';
					
					uiGamePopupHeighttmlString += '<button onclick = \"purchase1000()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiCasherBuyButtonWidth + 'px; height: ' + uiCasherBuyButtonHeight + 'px; left: ' + uiCasherBuyButtonLeft + 'px; top: ' + uiCasherBuyButtonsTops[1] + 'px \"> Buy </button>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiCasherFontScale+'px; text-align: center; background-color: #cce6ff; position: absolute; width: ' + uiCasherPurchaseInfoWidth + 'px; height: ' + uiCasherPurchaseInfoHeight + 'px; left: ' + uiCasherPurchaseInfoLeft + 'px; top: ' + uiCasherPurchaseInfoTops[1] + 'px \">GOLD 1000</div>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiCasherFontScale+'px; text-align: center; background-color: #2ce6ff; position: absolute; width: ' + uiCasherPurchasePriceWidth + 'px; height: ' + uiCasherPurchasePriceHeight + 'px; left: ' + uiCasherPurchasePriceLeft + 'px; top: ' + uiCasherPurchasePriceTops[1] + 'px \">2.99$</div>';
						
					uiGamePopupHeighttmlString += '<button onclick = \"purchase2000()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiCasherBuyButtonWidth + 'px; height: ' + uiCasherBuyButtonHeight + 'px; left: ' + uiCasherBuyButtonLeft + 'px; top: ' + uiCasherBuyButtonsTops[2] + 'px \"> Buy </button>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiCasherFontScale+'px; text-align: center; background-color: #cce6ff; position: absolute; width: ' + uiCasherPurchaseInfoWidth + 'px; height: ' + uiCasherPurchaseInfoHeight + 'px; left: ' + uiCasherPurchaseInfoLeft + 'px; top: ' + uiCasherPurchaseInfoTops[2] + 'px \">GOLD 2000</div>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiCasherFontScale+'px; text-align: center; background-color: #2ce6ff; position: absolute; width: ' + uiCasherPurchasePriceWidth + 'px; height: ' + uiCasherPurchasePriceHeight + 'px; left: ' + uiCasherPurchasePriceLeft + 'px; top: ' + uiCasherPurchasePriceTops[2] + 'px \">3.99$</div>';
					
					uiGamePopupHeighttmlString += '<button onclick = \"hidePopups()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiGamePopupCloseButtonWidth + 'px; height: ' + uiGamePopupCloseButtonHeight + 'px; left: ' + uiGamePopupCloseButtonLeft + 'px; top: ' + uiGamePopupCloseButtonTop + 'px \"> X </button>';
					uiGamePopupHeighttmlString += '</div>';
				}
				if (showInboxPopupFlag)
				{
					const uiInboxGetButtonWidthScale = 0.2;
					const uiInboxGetButtonHeightScale = 0.1;
					const uiInboxRowsIntervalScale = 0.05;
					const uiInboxGiftInfoWidthScale = 0.5;
					const uiInboxGiftGoldWidthScale = 0.2;
					const uiInboxGiftInfoHeightScale = 0.1;
					const uiInboxGiftGoldHeightScale = 0.1;
					const uiInboxTitleFontScale = 2;
					const uiInboxFontScale = 1.3;
					var uiInboxGetButtonWidth = uiGamePopupWidth * uiInboxGetButtonWidthScale;
					var uiInboxGetButtonHeight = uiGamePopupWidth * uiInboxGiftInfoHeightScale;
					var uiInboxGetButtonLeft = uiInboxRowsIntervalScale*uiGamePopupWidth + uiInboxGiftInfoWidthScale*uiGamePopupWidth + uiInboxGiftGoldWidthScale*uiGamePopupWidth;
					var uiInboxGiftInfoWidth = uiGamePopupWidth * uiInboxGiftInfoWidthScale;
					var uiInboxGiftInfoHeight = uiGamePopupWidth * uiInboxGiftInfoHeightScale;
					var uiInboxGiftInfoLeft = uiInboxRowsIntervalScale*uiGamePopupWidth;
					var uiInboxGiftGoldWidth = uiGamePopupWidth * uiInboxGiftGoldWidthScale;
					var uiInboxGiftGoldHeight = uiGamePopupWidth * uiInboxGiftGoldHeightScale;
					var uiInboxGiftGoldLeft = uiInboxRowsIntervalScale*uiGamePopupWidth + uiInboxGiftInfoWidthScale*uiGamePopupWidth;
					var uiInboxGetButtonsTops = [];
					var uiInboxGiftInfoTops = [];
					var uiInboxGiftGoldTops = [];
					
					const uiInboxPurchasesCount = 3;
					
					uiGamePopupHeighttmlString += '<div style = \"position: absolute; left: '+uiGameLeft+'px; top: '+uiGameTop+'px; width: '+uiGameWidth+'px; height: '+uiGameHeight+'px; opacity:0.3; background-color:#000080\"></div>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiInboxTitleFontScale+'px; text-align: center; background-color: #e6e6ff; opcaity: 1.0; position: absolute; width: ' + uiGamePopupWidth + 'px; height: ' + uiGamePopupHeight + 'px; left: ' + uiGamePopupLeft + 'px; top: ' + uiGamePopupTop + 'px \">Inbox';
					
					const uiInboxTopInterval = 3;
					
					for (var i = 0; i < uiInboxPurchasesCount; i++)
					{
						uiInboxGiftInfoTops[i] = uiInboxRowsIntervalScale*uiGamePopupHeight*uiInboxTopInterval + i*(uiGamePopupWidth * uiInboxGiftInfoHeightScale + uiInboxRowsIntervalScale*uiGamePopupHeight);
						uiInboxGiftGoldTops[i] = uiInboxGiftInfoTops[i];
						uiInboxGetButtonsTops[i] = uiInboxGiftInfoTops[i];
					}
					
					var posid = 0;
					if (coinsgift)
					{
						uiGamePopupHeighttmlString += '<button onclick = \"showCoinsGIftGetPopup()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiInboxGetButtonWidth + 'px; height: ' + uiInboxGetButtonHeight + 'px; left: ' + uiInboxGetButtonLeft + 'px; top: ' + uiInboxGetButtonsTops[posid] + 'px \"> Get coins </button>';
						uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiInboxFontScale+'px; text-align: center; background-color: #cce6ff; position: absolute; width: ' + uiInboxGiftInfoWidth + 'px; height: ' + uiInboxGiftInfoHeight + 'px; left: ' + uiInboxGiftInfoLeft + 'px; top: ' + uiInboxGiftInfoTops[posid] + 'px \">\
						<img src="fr.jpg" style=\"position:absolute; left:0px; width:'+uiInboxGiftInfoHeight+'px; height:'+uiInboxGiftInfoHeight+'px\"></img>\
						<div style = "position:absolute; left:'+uiInboxGiftInfoWidth/4+'px;top:'+uiInboxGiftInfoHeight/4+'px">Nancy has sent you</div>\
						</div>';
						uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiInboxFontScale+'px; text-align: center; background-color: #2ce6ff; position: absolute; width: ' + uiInboxGiftGoldWidth + 'px; height: ' + uiInboxGiftGoldHeight + 'px; left: ' + uiInboxGiftGoldLeft + 'px; top: ' + uiInboxGiftGoldTops[posid] + 'px \"><div style = "position:absolute; left:'+uiInboxGiftGoldWidth/8+'px; top:'+uiInboxGiftInfoHeight/4+'px">1500 $</div></div>';
						posid++;
					}
					
					if (spinsgift)
					{
						uiGamePopupHeighttmlString += '<button onclick = \"showSelectTheme()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiInboxGetButtonWidth + 'px; height: ' + uiInboxGetButtonHeight + 'px; left: ' + uiInboxGetButtonLeft + 'px; top: ' + uiInboxGetButtonsTops[posid] + 'px \"> Get spins </button>';
						uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiInboxFontScale+'px; text-align: center; background-color: #cce6ff; position: absolute; width: ' + uiInboxGiftInfoWidth + 'px; height: ' + uiInboxGiftInfoHeight + 'px; left: ' + uiInboxGiftInfoLeft + 'px; top: ' + uiInboxGiftInfoTops[posid] + 'px \">\
						<img src="fr.jpg" style=\"position:absolute; left:0px; width:'+uiInboxGiftInfoHeight+'px; height:'+uiInboxGiftInfoHeight+'px\"></img>\
						<div style = "position:absolute; left:'+uiInboxGiftInfoWidth/4+'px;top:'+uiInboxGiftInfoHeight/4+'px">Nancy has sent you</div>\
						</div>';
						uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiInboxFontScale+'px; text-align: center; background-color: #2ce6ff; position: absolute; width: ' + uiInboxGiftGoldWidth + 'px; height: ' + uiInboxGiftGoldHeight + 'px; left: ' + uiInboxGiftGoldLeft + 'px; top: ' + uiInboxGiftGoldTops[posid] + 'px \"><div style = "position:absolute; left:'+uiInboxGiftGoldWidth/8+'px; top:'+uiInboxGiftInfoHeight/4+'px">10 spins</div></div>';
						posid++;
					}
						
					if (specialoffergift)
					{
						uiGamePopupHeighttmlString += '<button onclick = \"getSpecialOffer()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiInboxGetButtonWidth + 'px; height: ' + uiInboxGetButtonHeight + 'px; left: ' + uiInboxGetButtonLeft + 'px; top: ' + uiInboxGetButtonsTops[posid] + 'px \"> Special Offer</button>';
						uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiInboxFontScale+'px; text-align: center; background-color: #cce6ff; position: absolute; width: ' + uiInboxGiftInfoWidth + 'px; height: ' + uiInboxGiftInfoHeight + 'px; left: ' + uiInboxGiftInfoLeft + 'px; top: ' + uiInboxGiftInfoTops[posid] + 'px \">\
						<img src="fr.jpg" style=\"position:absolute; left:0px; width:'+uiInboxGiftInfoHeight+'px; height:'+uiInboxGiftInfoHeight+'px\"></img>\
						<div style = "position:absolute; left:'+uiInboxGiftInfoWidth/4+'px;top:'+uiInboxGiftInfoHeight/4+'px">Nancy has sent you</div>\
						</div>';
						uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize*uiInboxFontScale+'px; text-align: center; background-color: #2ce6ff; position: absolute; width: ' + uiInboxGiftGoldWidth + 'px; height: ' + uiInboxGiftGoldHeight + 'px; left: ' + uiInboxGiftGoldLeft + 'px; top: ' + uiInboxGiftGoldTops[posid] + 'px \"></div>';
						posid++;
					}
					
					uiGamePopupHeighttmlString += '<button onclick = \"hidePopups()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiGamePopupCloseButtonWidth + 'px; height: ' + uiGamePopupCloseButtonHeight + 'px; left: ' + uiGamePopupCloseButtonLeft + 'px; top: ' + uiGamePopupCloseButtonTop + 'px \"> X </button>';
					uiGamePopupHeighttmlString += '</div>';
				}
				if (showBuySuccessPopupFlag)
				{
					uiGamePopupHeighttmlString += '<div style = \"position: absolute; left: '+uiGameLeft+'px; top: '+uiGameTop+'px; width: '+uiGameWidth+'px; height: '+uiGameHeight+'px; opacity:0.3; background-color:#000080\"></div>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize+'px; text-align: center; background-color: #e6e6ff; opcaity: 1.0; position: absolute; width: ' + uiGamePopupBuySuccessWidth + 'px; height: ' + uiGamePopupBuySuccessHeight + 'px; left: ' + uiGamePopupBuySuccessLeft + 'px; top: ' + uiGamePopupBuySuccessTop + 'px \">Success';
					uiGamePopupHeighttmlString += '<br>You bought ' + bought;
					uiGamePopupHeighttmlString += '<button onclick = \"addGold()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiGamePopupBuySuccessOKButtonWidth + 'px; height: ' + uiGamePopupBuySuccessOKButtonHeight + 'px; left: ' + uiGamePopupBuySuccessOKButtonLeft + 'px; top: ' + uiGamePopupBuySuccessOKButtonTop + 'px \"> OK </button>';
					uiGamePopupHeighttmlString += '</div>';
				}
				if (showCoinsGIftGetPopupFlag)
				{
					uiGamePopupHeighttmlString += '<div style = \"position: absolute; left: '+uiGameLeft+'px; top: '+uiGameTop+'px; width: '+uiGameWidth+'px; height: '+uiGameHeight+'px; opacity:0.3; background-color:#000080\"></div>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize+'px; text-align: center; background-color: #e6e6ff; opcaity: 1.0; position: absolute; width: ' + uiGamePopupBuySuccessWidth + 'px; height: ' + uiGamePopupBuySuccessHeight + 'px; left: ' + uiGamePopupBuySuccessLeft + 'px; top: ' + uiGamePopupBuySuccessTop + 'px \">Coins gift';
					uiGamePopupHeighttmlString += '<br>You received $1500 from Nancy';
					uiGamePopupHeighttmlString += '<button onclick = \"getGift()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiGamePopupBuySuccessOKButtonWidth + 'px; height: ' + uiGamePopupBuySuccessOKButtonHeight + 'px; left: ' + uiGamePopupBuySuccessOKButtonLeft + 'px; top: ' + uiGamePopupBuySuccessOKButtonTop + 'px \"> OK </button>';
					uiGamePopupHeighttmlString += '</div>';
				}
				if (showSelectThemePopupFlag)
				{
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize+'px; text-align: center; background-color: #e6e6ff; opcaity: 1.0; position: absolute; width: ' + uiGameWidth + 'px; height: ' + uiGameTopPanelHeight + 'px; left: '+(uiGameLeft + bordersWidth)+'px; top: '+uiGameTop+'px \"></div>';
					uiGamePopupHeighttmlString += '<div style = \"font-size:'+uiGameFontSize+'px; text-align: center; background-color: #e6e6ff; opcaity: 1.0; position: absolute; width: ' + uiGameWidth + 'px; height: ' + uiGameMegaBonusPanelHeight + 'px; left: '+(uiGameLeft + bordersWidth)+'px; top: '+(uiGameHeight-uiGameMegaBonusPanelHeight)+'px \"><big>SELECT THEME</big></div>';
					uiGamePopupHeighttmlString += '<button onclick = \"hideSceneSelector()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiGamePopupCloseButtonWidth + 'px; height: ' + uiGamePopupCloseButtonHeight + 'px; left: ' + (uiGameWidth-uiGamePopupCloseButtonWidth) + 'px; top: ' + uiGameTop + 'px \"> X </button>';
				}
				
				if (bonusTimer > 0)
				{
					bonusButtonFontColor = "color:#000000";
					if (bonusesCollected == 3)
						megaBonusInfoText = '<strike><small>' + megaBonusMonets + ' $</small></strike>' + "  " + megaBonusMonets*bonusmultiplier + " $";
					else if (bonusesCollected >= totalBonuses-1)
						megaBonusInfoText = "";
					else
						megaBonusInfoText = megaBonusMonets + ' $';
					if (bonusTimer > 9) bonusButtonText = "In 00:00:"+bonusTimer;
					else bonusButtonText = "In 00:00:0"+bonusTimer;
				}
				else
				{
					if (bonusesCollected >= totalBonuses-1)
					{
						bonusButtonFontColor = "color:#ff0000";
						megaBonusInfoText = "";
						bonusButtonText = "Collect Now";
					}
					else
					{
						if (bonusesCollected == 3)
							megaBonusInfoText = '<strike><small>' + megaBonusMonets + ' $</small></strike>' + "  " + megaBonusMonets*bonusmultiplier + " $";
						else
							megaBonusInfoText = megaBonusMonets + ' $';
						bonusButtonFontColor = "color:#000000";
						bonusButtonText = "Collect Now";
					}
				}
				
				var pageIconsHTML = "";
				
				for (var i = 0; i < 3; i++)
				{
					pageIconsHTML += '<button onclick = \"gotoPage'+i+'n()\" style = \"font-size:'+uiGameFontSize+'px; position: absolute; width: ' + uiGamePageIconWidth + 'px; height: ' + uiGamePageIconHeight + 'px; left: ' + (uiGamePageIconLeftStart + uiGamePageIconLeftInterval*i) + 'px; top: ' + uiGamePageIconTop + 'px \">';
					if (pageId == i)
						pageIconsHTML += '*';
					pageIconsHTML += '</button>';
				}
				
				const uiGameLeftButtonHeightLabelScale = 2.7;
				const uiGameLeftButtonWidthLabelScale = 3;
				
				document.getElementById("body").innerHTML =  
				'	\
					<div style = \"font-size:'+uiGameFontSize+'px; border-color: #f5deb3; border-width: '+bordersWidth+'px; border-style: solid; position:absolute; left: '+uiGameLeft+'px; top: '+uiGameTop+'px; background-color: Transparent; width:'+uiGameWidth+'px; height: '+uiGameHeight+'px\"> \
						<img src = "imgs/back.png" style="position:absolute; width:' + uiGameThemesPanelWidth + 'px; height: ' + uiGameHeight + 'px; left: ' + uiGameThemesPanelLeft + 'px; "></img>\
						' + topPanelHTML + '\
						<div id = "themespage" style = \"text-align: center; background-color: Transparent; position: absolute; width: ' + uiGameThemesPanelWidth + 'px; height: ' + uiGameThemesPanelHeight + 'px; left: ' + uiGameThemesPanelLeft + 'px; top: ' + uiGameThemesPanelTop + 'px \">\
						'+themesHtmlString+'\
						<button onclick = \"goLeft()\" style = \"font-size:'+uiGameFontSize+'px; background-color: Transparent; border:none; position: absolute; width: ' + uiGameLeftButtonWidth + 'px; height: ' + uiGameLeftButtonHeight + 'px; left: ' + uiGameLeftButtonLeft + 'px; top: ' + uiGameLeftButtonTop + 'px \">\
							<img src = "imgs/button.png" style="position:absolute; width:' +  uiGameLeftButtonWidth + 'px; height: ' + uiGameLeftButtonHeight + 'px; left: 0px; top: 0px ">\
								<div style="font-size:'+uiGameFontSize+'px; position:absolute; top:'+uiGameLeftButtonHeight/uiGameLeftButtonHeightLabelScale+'px; left:'+uiGameLeftButtonWidth/uiGameLeftButtonWidthLabelScale+'px"><</div>\
							</img>\ \
						</button>\
						<button onclick = \"goRight()\" style = \"font-size:'+uiGameFontSize+'px; background-color: Transparent; border:none; position: absolute; width: ' + uiGameRightButtonWidth + 'px; height: ' + uiGameRightButtonHeight + 'px; left: ' + uiGameRightButtonLeft + 'px; top: ' + uiGameRightButtonTop + 'px \"> \
							<img src = "imgs/button.png" style="position:absolute; width:' +  uiGameLeftButtonWidth + 'px; height: ' + uiGameLeftButtonHeight + 'px; left: 0px; top: 0px ">\
								<div style="font-size:'+uiGameFontSize+'px; position:absolute; top:'+uiGameLeftButtonHeight/uiGameLeftButtonHeightLabelScale+'px; left:'+uiGameLeftButtonWidth/uiGameLeftButtonWidthLabelScale+'px">></div>\
							</img>\ \
						</button>' + pageIconsHTML+'\
						\
						</div>\
						'+bottomPanelHTML+'\
					</div> 	\
					'+uiGamePopupHeighttmlString+'  \
				';				
			}
			function showPopup()
			{
				showSimplePopupFlag = true;
				redrawUI();
			}
			
			function showOptionsPopup()
			{
				showSmallOptionsFlag = false;
				showOptionsPopupFlag = true;
				redrawUI();
			}
			
			function showInboxPopup()
			{
				showInboxPopupFlag = true;
				redrawUI();
			}
			
			function showCasherPopup()
			{
				showCasherPopupFlag = true;
				redrawUI();
			}
			
			function showCoinsGIftGetPopup()
			{
				showCoinsGIftGetPopupFlag = true;
				redrawUI();
			}
			
			function showThemeSelector()
			{
				showCoinsGIftGetPopupFlag = false;
				redrawUI();
			}
			
			function getGift()
			{
				showCoinsGIftGetPopupFlag = false;
				//cash += 1500;
				sessionStorage.setItem('cash',cash + 1500);
				coinsgift = false;
				giftscount--;
				redrawUI();
			}
			
			function getSpecialOffer()
			{
				specialofferget = true;
				hidePopups();
				showCasherPopup();
				redrawUI();
			}
			
			function showSelectTheme()
			{
				hidePopups();
				showSelectThemePopupFlag = true;
				showInboxPopupFlag = false;
				spinsgift = false;
				giftscount--;
				redrawUI();
			}
			
			function showSmallSettings()
			{
				showSmallOptionsFlag = true;
				redrawUI();
			}
			
			function hidePopups()
			{
				showBuySuccessPopupFlag = false;
				showSimplePopupFlag = false;
				showOptionsPopupFlag = false;
				showInboxPopupFlag = false;
				if (showCasherPopupFlag && specialofferget)
				{
					showInboxPopupFlag = true;
				}
				showSmallOptionsFlag = false;
				showCasherPopupFlag = false;
				showCoinsGIftGetPopupFlag = false;
				showSelectThemePopupFlag= false;
				redrawUI();
			}
			
			function hideSceneSelector()
			{
				spinsgift = true;
				showSelectThemePopupFlag= false;
				showInboxPopupFlag = true;
				redrawUI();
			}
			
			function addGold()
			{
				if (specialofferget)
				{
					specialoffergift = false;
					giftscount--;
				}
				//cash += bought;
				sessionStorage.setItem('cash',cash + bought);
				showBuySuccessPopupFlag = false;
				redrawUI();
			}
			
			function purchase500()
			{
				bought = 500;
				showBuySuccessPopupFlag = true;
				redrawUI();
			}
			
			function purchase1000()
			{
				bought = 1000;
				showBuySuccessPopupFlag = true;
				redrawUI();
			}
			
			function collectBonus()
			{
				if (bonusTimer == 0)
				{
					if (bonusesCollected == totalBonuses-1)
					{
						showMegaBonusPopupFlag = true;
						bonusesCollected++;
						redrawUI();
					}
					else
					{
						if (bonusesCollected == 3)
						{
							//cash += megaBonusMonets * bonusmultiplier;
							sessionStorage.setItem('cash',cash + megaBonusMonets * bonusmultiplier);
							megaBonusTitle = "Mega Bonus"
						}
						else
						{
							//cash += megaBonusMonets;
							sessionStorage.setItem('cash',cash + megaBonusMonets);
							megaBonusTitle = "Bonus Coins"
						}
						bonusesCollected++;
						bonusTimer = 10;
						redrawUI();
					}
				}
			}
			
			function collectMegaBonus()
			{
				showMegaBonusPopupFlag = false;
				megaBonusTitle = "Bonus Coins"
				//cash += megaBonusMonets;
				sessionStorage.setItem('cash',cash + megaBonusMonets);
				bonusesCollected = 0;
				bonusTimer = 10;
				redrawUI();
			}
			
			function purchase2000()
			{
				bought = 2000;
				showBuySuccessPopupFlag = true;
				redrawUI();
			}
			
			function timerFunc() 
			{
				if (bonusTimer > 0)
				{
					bonusTimer--;
					redrawUI();
				}
			}
			
			function goLeft()
			{
				pageId--;
				if (pageId == -1) pageId = 2;
				redrawUI();
			}
			
			function goRight()
			{
				pageId++;
				if (pageId == 3) pageId = 0;
				redrawUI();
			}
			
			function gotoPage0n()
			{
				pageId = 0;
				redrawUI();
			}
			function gotoPage1n()
			{
				pageId = 1;
				redrawUI();
			}
			function gotoPage2n()
			{
				pageId = 2;
				redrawUI();
			}
			
			var animCashStep = 0;
			var animCash = false;
			var step = 0;
			function animateCash()
			{
				animCashStep = (targetCash - cash)/30;
				step = 0;
				animCash = true;
			}
			
			function timerCash()
			{
				if (step < 30)
				{
					cash += animCashStep;
					step++;
					if (step == 30) cash = targetCash;
				}
				try
				{
					document.getElementById("cash").innerHTML = Math.ceil(cash) + " $";
				}
				catch(err){}
			}
			
			var p = 0;
			function onLoad()
			{
				if (sessionStorage.getItem('cash')) 
				{
					cash = parseInt(sessionStorage.getItem('cash'));
					targetCash = cash;
				}
				else
				{
					sessionStorage.setItem('cash',1000);
				}
				
				if (sessionStorage.getItem('exp')) 
				{
					exp = parseInt(sessionStorage.getItem('exp'));
				}
				else
				{
					sessionStorage.setItem('exp',0);
				}
				
				setInterval(timerFunc, 1000);
				setInterval(timerCash, 20);
				redrawUI();
			}
			function onResize()
			{
				redrawUI();
			}
		</script>	
	</head>
	<body id = "body" onload = "onLoad()" onresize = "onResize()">	
	</body>
</html>